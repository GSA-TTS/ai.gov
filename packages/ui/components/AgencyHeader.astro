---
import HeaderNavigation from './HeaderNavigation.astro';
import HeroCard from './HeroCard.svelte';
import { heroCardsData } from '../data/heroCardsData';
import { getUrlFromBase } from '@repo/ui/helpers';
---

<header class="agency-header grid-container ai-maxw-widescreen">
  <HeaderNavigation />
  
  <div class="agency-header__herocard-wrapper">
    <HeroCard
      background={heroCardsData.lpHeaderHero.background}
      textColor={heroCardsData.lpHeaderHero.textColor}
    >
      <div slot="iconRow" class="ai-hero-card__icon-row">
        {
          heroCardsData.lpHeaderHero.iconSvgPath && (
            <img
              src={getUrlFromBase(heroCardsData.lpHeaderHero.iconSvgPath)}
              alt=""
              class="ai-hero-card__icon"
            />
          )
        }
        {
          heroCardsData.lpHeaderHero.iconText && (
            <span class="ai-hero-card__icon-text">
              {heroCardsData.lpHeaderHero.iconText}
            </span>
          )
        }
      </div>
      <h1 slot="title" class="ai-hero-card__title ai-hero-card__title--header">
        {heroCardsData.lpHeaderHero.title}
      </h1>
      <p slot="description" class="ai-hero-card__description">
        {heroCardsData.lpHeaderHero.description}
      </p>
      <div
        slot="buttons"
        class="ai-menu-buttons"
        role="group"
        aria-label="Hero actions"
      >
        {
          heroCardsData.lpHeaderHero.buttons.map(button => (
            <a
              class={`usa-button ai-button ai-button--${button.type}`}
              href={button.href || '/'}
              type="button"
            >
              {button.text}
            </a>
          ))
        }
      </div>
    </HeroCard>
  </div>
</header>

<style>
  .agency-header {
    height: 41.3125rem;
    position: relative;
  }
  .agency-header__herocard-wrapper {
    position: absolute;
    left: 0;
    right: 0;
    bottom: 3.5625rem;
  }
</style>
